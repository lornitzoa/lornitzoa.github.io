webpackHotUpdate("main",{

/***/ "./src/services/user.service.js":
/*!**************************************!*\
  !*** ./src/services/user.service.js ***!
  \**************************************/
/*! exports provided: userService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"userService\", function() { return userService; });\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers */ \"./src/helpers/index.js\");\n\nvar userService = {\n  login: login,\n  logout: logout,\n  register: register,\n  getAll: getAll\n};\n\nfunction login(username, password) {\n  var requestOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      username: username,\n      password: password\n    })\n  };\n  return fetch(\"http://localhost:3000/users/login\", requestOptions).then(handleResponse).then(function (user) {\n    // login successful if there's a user in the response\n    if (user) {\n      // store user details and basic auth credentials in local storage\n      // to keep user logged in between page refreshes\n      user.authdata = window.btoa(username + ':' + password);\n      localStorage.setItem('user', JSON.stringify(user));\n    } else {\n      alert('failed login');\n    }\n\n    return user;\n  });\n}\n\nfunction logout() {\n  // remove user from local storage to log user out\n  localStorage.removeItem('user');\n}\n\nfunction register(user) {\n  // console.log(user)\n  fetch('http://localhost:3000/users/register', {\n    body: JSON.stringify(user),\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': 'application/json'\n    }\n  });\n}\n\nfunction getAll() {\n  var requestOptions = {\n    method: 'GET',\n    headers: Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"authHeader\"])()\n  };\n  return fetch(\"http://localhost:3000/users\", requestOptions).then(handleResponse);\n}\n\nfunction handleResponse(response) {\n  return response.text().then(function (text) {\n    var data = text && JSON.stringify(text);\n\n    if (!response.ok) {\n      if (response.status === 401) {\n        // auto logout if 401 response returned from api\n        logout();\n        window.location.reload(true);\n      }\n\n      var error = data && data.message || response.statusText;\n      return Promise.reject(error);\n    }\n\n    return data;\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9Bbm5hL0RvY3VtZW50cy9naXRodWJfZG9tYWluL19mYi9ub3RmYl9mcm9udGVuZC9zcmMvc2VydmljZXMvdXNlci5zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbInVzZXJTZXJ2aWNlIiwibG9naW4iLCJsb2dvdXQiLCJyZWdpc3RlciIsImdldEFsbCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJyZXF1ZXN0T3B0aW9ucyIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImZldGNoIiwidGhlbiIsImhhbmRsZVJlc3BvbnNlIiwidXNlciIsImF1dGhkYXRhIiwid2luZG93IiwiYnRvYSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJhbGVydCIsInJlbW92ZUl0ZW0iLCJhdXRoSGVhZGVyIiwicmVzcG9uc2UiLCJ0ZXh0IiwiZGF0YSIsIm9rIiwic3RhdHVzIiwibG9jYXRpb24iLCJyZWxvYWQiLCJlcnJvciIsIm1lc3NhZ2UiLCJzdGF0dXNUZXh0IiwiUHJvbWlzZSIsInJlamVjdCJdLCJtYXBwaW5ncyI6IkFBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFTyxJQUFNQSxXQUFXLEdBQUc7QUFDdkJDLE9BQUssRUFBTEEsS0FEdUI7QUFFdkJDLFFBQU0sRUFBTkEsTUFGdUI7QUFHdkJDLFVBQVEsRUFBUkEsUUFIdUI7QUFJdkJDLFFBQU0sRUFBTkE7QUFKdUIsQ0FBcEI7O0FBT1AsU0FBU0gsS0FBVCxDQUFlSSxRQUFmLEVBQXlCQyxRQUF6QixFQUFtQztBQUMvQixNQUFNQyxjQUFjLEdBQUc7QUFDbkJDLFVBQU0sRUFBRSxNQURXO0FBRW5CQyxXQUFPLEVBQUU7QUFBRSxzQkFBZ0I7QUFBbEIsS0FGVTtBQUduQkMsUUFBSSxFQUFFQyxJQUFJLENBQUNDLFNBQUwsQ0FBZTtBQUFFUCxjQUFRLEVBQVJBLFFBQUY7QUFBWUMsY0FBUSxFQUFSQTtBQUFaLEtBQWY7QUFIYSxHQUF2QjtBQU1BLFNBQU9PLEtBQUssc0NBQXNDTixjQUF0QyxDQUFMLENBQ0ZPLElBREUsQ0FDR0MsY0FESCxFQUVGRCxJQUZFLENBRUcsVUFBQUUsSUFBSSxFQUFJO0FBQ1Y7QUFDQSxRQUFJQSxJQUFKLEVBQVU7QUFDTjtBQUNBO0FBQ0FBLFVBQUksQ0FBQ0MsUUFBTCxHQUFnQkMsTUFBTSxDQUFDQyxJQUFQLENBQVlkLFFBQVEsR0FBRyxHQUFYLEdBQWlCQyxRQUE3QixDQUFoQjtBQUNBYyxrQkFBWSxDQUFDQyxPQUFiLENBQXFCLE1BQXJCLEVBQTZCVixJQUFJLENBQUNDLFNBQUwsQ0FBZUksSUFBZixDQUE3QjtBQUNILEtBTEQsTUFLTztBQUNMTSxXQUFLLENBQUMsY0FBRCxDQUFMO0FBQ0Q7O0FBRUQsV0FBT04sSUFBUDtBQUNILEdBZEUsQ0FBUDtBQWVIOztBQUVELFNBQVNkLE1BQVQsR0FBa0I7QUFDZDtBQUNBa0IsY0FBWSxDQUFDRyxVQUFiLENBQXdCLE1BQXhCO0FBQ0g7O0FBRUQsU0FBU3BCLFFBQVQsQ0FBa0JhLElBQWxCLEVBQXdCO0FBQ3RCO0FBQ0FILE9BQUssQ0FBQyxzQ0FBRCxFQUNIO0FBQ0VILFFBQUksRUFBRUMsSUFBSSxDQUFDQyxTQUFMLENBQWVJLElBQWYsQ0FEUjtBQUVFUixVQUFNLEVBQUUsTUFGVjtBQUdFQyxXQUFPLEVBQUU7QUFDUCxnQkFBVSxtQ0FESDtBQUVQLHNCQUFnQjtBQUZUO0FBSFgsR0FERyxDQUFMO0FBVUQ7O0FBRUQsU0FBU0wsTUFBVCxHQUFrQjtBQUNkLE1BQU1HLGNBQWMsR0FBRztBQUNuQkMsVUFBTSxFQUFFLEtBRFc7QUFFbkJDLFdBQU8sRUFBRWUsMkRBQVU7QUFGQSxHQUF2QjtBQUtBLFNBQU9YLEtBQUssZ0NBQWdDTixjQUFoQyxDQUFMLENBQXFETyxJQUFyRCxDQUEwREMsY0FBMUQsQ0FBUDtBQUNIOztBQUVELFNBQVNBLGNBQVQsQ0FBd0JVLFFBQXhCLEVBQWtDO0FBQzlCLFNBQU9BLFFBQVEsQ0FBQ0MsSUFBVCxHQUFnQlosSUFBaEIsQ0FBcUIsVUFBQVksSUFBSSxFQUFJO0FBQ2hDLFFBQU1DLElBQUksR0FBR0QsSUFBSSxJQUFJZixJQUFJLENBQUNDLFNBQUwsQ0FBZWMsSUFBZixDQUFyQjs7QUFDQSxRQUFJLENBQUNELFFBQVEsQ0FBQ0csRUFBZCxFQUFrQjtBQUNkLFVBQUlILFFBQVEsQ0FBQ0ksTUFBVCxLQUFvQixHQUF4QixFQUE2QjtBQUN6QjtBQUNBM0IsY0FBTTtBQUNOZ0IsY0FBTSxDQUFDWSxRQUFQLENBQWdCQyxNQUFoQixDQUF1QixJQUF2QjtBQUNIOztBQUVELFVBQU1DLEtBQUssR0FBSUwsSUFBSSxJQUFJQSxJQUFJLENBQUNNLE9BQWQsSUFBMEJSLFFBQVEsQ0FBQ1MsVUFBakQ7QUFDQSxhQUFPQyxPQUFPLENBQUNDLE1BQVIsQ0FBZUosS0FBZixDQUFQO0FBQ0g7O0FBRUQsV0FBT0wsSUFBUDtBQUNILEdBZE0sQ0FBUDtBQWVIIiwiZmlsZSI6Ii4vc3JjL3NlcnZpY2VzL3VzZXIuc2VydmljZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgYXV0aEhlYWRlciB9IGZyb20gJy4uL2hlbHBlcnMnXG5cbmV4cG9ydCBjb25zdCB1c2VyU2VydmljZSA9IHtcbiAgICBsb2dpbixcbiAgICBsb2dvdXQsXG4gICAgcmVnaXN0ZXIsXG4gICAgZ2V0QWxsXG59O1xuXG5mdW5jdGlvbiBsb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVzZXJuYW1lLCBwYXNzd29yZCB9KVxuICAgIH07XG5cbiAgICByZXR1cm4gZmV0Y2goYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91c2Vycy9sb2dpbmAsIHJlcXVlc3RPcHRpb25zKVxuICAgICAgICAudGhlbihoYW5kbGVSZXNwb25zZSlcbiAgICAgICAgLnRoZW4odXNlciA9PiB7XG4gICAgICAgICAgICAvLyBsb2dpbiBzdWNjZXNzZnVsIGlmIHRoZXJlJ3MgYSB1c2VyIGluIHRoZSByZXNwb25zZVxuICAgICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBzdG9yZSB1c2VyIGRldGFpbHMgYW5kIGJhc2ljIGF1dGggY3JlZGVudGlhbHMgaW4gbG9jYWwgc3RvcmFnZVxuICAgICAgICAgICAgICAgIC8vIHRvIGtlZXAgdXNlciBsb2dnZWQgaW4gYmV0d2VlbiBwYWdlIHJlZnJlc2hlc1xuICAgICAgICAgICAgICAgIHVzZXIuYXV0aGRhdGEgPSB3aW5kb3cuYnRvYSh1c2VybmFtZSArICc6JyArIHBhc3N3b3JkKTtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHVzZXIpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFsZXJ0KCdmYWlsZWQgbG9naW4nKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgICAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvZ291dCgpIHtcbiAgICAvLyByZW1vdmUgdXNlciBmcm9tIGxvY2FsIHN0b3JhZ2UgdG8gbG9nIHVzZXIgb3V0XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXInKTtcbn1cblxuZnVuY3Rpb24gcmVnaXN0ZXIodXNlcikge1xuICAvLyBjb25zb2xlLmxvZyh1c2VyKVxuICBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL3VzZXJzL3JlZ2lzdGVyJyxcbiAgICB7XG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyKSxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKicsXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgIH1cbiAgICB9XG4gIClcbn1cblxuZnVuY3Rpb24gZ2V0QWxsKCkge1xuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zID0ge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBoZWFkZXJzOiBhdXRoSGVhZGVyKClcbiAgICB9O1xuXG4gICAgcmV0dXJuIGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjMwMDAvdXNlcnNgLCByZXF1ZXN0T3B0aW9ucykudGhlbihoYW5kbGVSZXNwb25zZSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKS50aGVuKHRleHQgPT4ge1xuICAgICAgICBjb25zdCBkYXRhID0gdGV4dCAmJiBKU09OLnN0cmluZ2lmeSh0ZXh0KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgICAgICAgICAgLy8gYXV0byBsb2dvdXQgaWYgNDAxIHJlc3BvbnNlIHJldHVybmVkIGZyb20gYXBpXG4gICAgICAgICAgICAgICAgbG9nb3V0KCk7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCh0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSAoZGF0YSAmJiBkYXRhLm1lc3NhZ2UpIHx8IHJlc3BvbnNlLnN0YXR1c1RleHQ7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/services/user.service.js\n");

/***/ })

})